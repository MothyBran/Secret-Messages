
window.translations = {
    de: {
        landing: {
            nav_app: "Zur Web-App",
            hero_title: "Nachrichten sicher verschl√ºsseln.<br>√úberall versenden.",
            hero_desc: "Lokale AES-GCM-Kryptografie (Zero-Knowledge). <br>Keine Serververarbeitung, kein Speichern <br>Absolute Datensouver√§nit√§t, denn <br>...Your message is a <b>Secure Message</b>",
            hero_btn: "Ab 1,99‚Ç¨ Loslegen",
            shop_offline: "Aktuell keine neuen Registrierungen m√∂glich.",
            steps_title: "In 3 Schritten zur totalen Sicherheit",
            step1_title: "1. Input",
            step1_desc: "Nachricht verfassen & Empf√§nger w√§hlen.",
            step2_title: "2. Verschl√ºsselung",
            step2_desc: "Lokale 4-Layer-Verschl√ºsselung (Zero-Knowledge).",
            step3_title: "3. Versand",
            step3_desc: "Verschl√ºsseltes Paket √ºber beliebigen Kanal versenden.",
            grid_title: "Maximale Sicherheit, minimale Spuren.",
            feat1_title: "Provider-Agnostische Kommunikationssouver√§nit√§t",
            feat1_desc: "Verschl√ºsseln Sie Texte, Medien und Dokumente unabh√§ngig vom genutzten √úbertragungsmedium. Unsere Technologie transformiert herk√∂mmliche Versanddienste wie WhatsApp, E-Mail oder Signal in hochgradig gesicherte Transferkan√§le.",
            feat2_title: "Autarke Client-Side-Encryption (Zero-Knowledge)",
            feat2_desc: "S√§mtliche kryptografischen Operationen werden isoliert auf Ihrem Endger√§t ausgef√ºhrt. Es erfolgt keine √úbermittlung von Inhalten oder Entschl√ºsselungscodes an den Server. Was auf Ihrem Ger√§t verschl√ºsselt wird, bleibt mathematisch unzug√§nglich f√ºr Dritte.",
            feat3_title: "Absolute Identit√§ts-Isolierung & Pseudonymit√§t",
            feat3_desc: "Ihre digitale Pr√§senz basiert auf einem gew√§hlten Alias und einer ID-Sequenz. Es erfolgt keine Verkn√ºpfung mit Klarnamen, E-Mails oder Rufnummern. Diese Trennung gew√§hrleistet Anonymit√§t gegen√ºber dem System.",
            feat4_title: "Maximale Datenintegrit√§t & Exklusiv-Zugriff",
            feat4_desc: "Die Datenhoheit liegt exklusiv bei Ihnen. Durch dezentrale Schl√ºsselverwaltung ist ein administrativer Zugriff durch den Anbieter ausgeschlossen. Nur die Kombination aus Empf√§nger-Binding und Zugangscode erm√∂glicht die Dekodierung.",
            feat5_title: "Intelligente Datensparsamkeit & Hardware-Integrit√§t",
            feat5_desc: "Wir speichern nur systemrelevante Metadaten zur Lizenzvalidierung. Das System nutzt hardwarenahe Analysen f√ºr eine eindeutige Ger√§tebindung, w√§hrend Kontakt-IDs fl√ºchtig im lokalen Cache verbleiben.",
            feat6_title: "Multi-Level-Protektion & Forensik-Resistenz",
            feat6_desc: "Unbefugter Zugriff wird durch obligatorisches Hardware-Binding verhindert. Die Anwendung ist forensisch resistent konzipiert; bei Ger√§teverlust bietet das System keine Angriffsfl√§che f√ºr Datenextraktion.",
            showcase_title: "App Einblick",
            deep_title: "Mathematisch unknackbar.",
            deep_desc1: "Es ist nicht nur AES. Die Sicherheit entsteht durch die zus√§tliche Kombination einer <strong>4-fachen Verschleierung (Obfuscation)</strong> unter Einbindung des <strong>5-stelligen Geheimcodes</strong>, der spezifischen <strong>Empf√§nger-ID</strong> und kryptografischer <strong>Ger√§te-Bindung</strong>.",
            deep_desc2: "Jede Verschl√ºsselung ist ein mathematisches Unikat. Sie basiert auf der komplexen Verkn√ºpfung von Schl√ºssel, Empf√§nger, Ger√§te-Signatur und Text. Das macht das System sicherer als herk√∂mmliche Standards: Ein Abfangen der Daten ist wertlos, wenn man nicht physisch das richtige Ger√§t UND den Code besitzt.",
            deep_list1: "‚úì AES-256-GCM Encryption",
            deep_list2: "‚úì Device & Recipient Binding",
            deep_list3: "‚úì PBKDF2 Key Hardening",
            deep_list4: "‚úì Algorithmic Payload Obfuscation",
            use_title: "F√ºr wen ist Secure Messages?",
            use1_title: "Einzelpersonen",
            use1_desc: "Sch√ºtze private Nachrichten, Passw√∂rter oder √úberraschungen vor neugierigen Blicken.",
            use2_title: "Unternehmen",
            use2_desc: "Sicherer Austausch von Zugangsdaten, API-Keys oder vertraulichen Notizen im Team ohne Firmen-Chat Logs.",
            use3_title: "Gruppen",
            use3_desc: "Organisiere Events oder teile Infos, die nicht f√ºr Dritte bestimmt sind, egal auf welcher Plattform.",
            footer_imprint: "Impressum",
            footer_privacy: "Datenschutz",
            footer_agb: "AGB & Richtlinien",
            footer_contact: "Kontakt",
            cookie_title: "Datenschutz & Cookies",
            cookie_desc: "Wir nutzen Cookies, um die Funktionalit√§t (z.B. Login-Status) zu gew√§hrleisten. Es werden keine Tracking- oder Werbe-Cookies gesetzt.",
            cookie_accept_all: "Alles Akzeptieren",
            cookie_accept_ess: "Nur Essenzielle",
            rights_reserved: "&copy; 2025 Secure Messages. All rights reserved.",
            legal_imprint_title: "Impressum",
            legal_privacy_title: "Datenschutzerkl√§rung (Privacy Policy)",
            legal_agb_title: "Allgemeine Gesch√§ftsbedingungen (AGB) ‚Äì SECURE MESSAGES",
            carousel_1_title: "Maximale Sicherheit bei der Eingabe:",
            carousel_1_desc: "Ihr Text wird lokal mit einem 5-stelligen Muster und ausgew√§hlten Empf√§ngern verschl√ºsselt.",
            carousel_2_title: "Einfacher und diskreter Versand:",
            carousel_2_desc: "Das Ergebnis ist ein kompakter QR-Code, bereit zum sicheren Teilen √ºber jeden beliebigen Kanal.",
            carousel_3_title: "Nur f√ºr autorisierte Augen:",
            carousel_3_desc: "Die R√ºckwandlung in lesbaren Text gelingt nur mit dem exakt gleichen 5-stelligen Zugangscode.",
            carousel_4_title: "Mehr als nur Text:",
            carousel_4_desc: "Auch sensible Dateien wie Bilder oder PDFs werden sicher direkt im Browser wieder sichtbar gemacht.",
            carousel_5_title: "Lokales Adressbuch:",
            carousel_5_desc: "Verwalten Sie vertrauensw√ºrdige Empf√§nger-IDs sicher auf Ihrem Ger√§t f√ºr einen schnellen und unkomplizierten Zugriff."
        },
        app: {
            sidebar_user: "üë§Gast",
            sidebar_license_na: "Nicht verbunden",
            sidebar_post: "üì´ Postfach",
            sidebar_contacts: "üìá Kontaktverzeichnis",
            sidebar_guide: "üìñ Anleitung",
            sidebar_info: "‚ÑπÔ∏è Info & Sicherheit",
            sidebar_shop: "üõí Lizenz Shop",
            sidebar_faq: "FAQ / Hilfe",
            sidebar_support: "üÜò Support",
            sidebar_change_code: "üîë Code √§ndern",
            sidebar_logout: "üîí Abmelden",
            sidebar_delete: "‚ö†Ô∏è Zugang l√∂schen",

            contact_header: "KONTAKTE",
            contact_search: "Suche...",
            contact_group_check: "Gruppen ankreuzen:",
            contact_col_name: "Empf√§nger ‚Üï",
            contact_col_group: "Gruppe ‚Üï",
            contact_empty: "Keine Kontakte gefunden.",
            contact_hint: "Hinweis: Kontakte werden nur lokal in Ihrem Browser gespeichert. Exportieren Sie Ihr Verzeichnis regelm√§√üig, um Datenverlust beim L√∂schen des Browser-Caches zu vermeiden.",
            btn_export: "‚¨á Export",
            btn_import: "‚¨Ü Import",
            btn_edit: "‚úé Bearbeiten",
            btn_add: "+ Hinzuf√ºgen",
            btn_cancel: "Abbrechen",
            btn_apply: "√úbernehmen",

            login_title: "IDENTIFIZIERUNG",
            label_user: "Benutzername",
            placeholder_user: "USER.ID",
            label_code: "Zugangscode",
            btn_connect: "VERBINDUNG HERSTELLEN",
            link_activate: "Lizenzschl√ºssel aktivieren",

            act_title: "LIZENZIERUNG",
            label_license: "Lizenz-Key",
            label_new_user: "Neuer Benutzername",
            label_new_code: "Neuer Zugangscode (5-Stellig)",
            label_repeat_code: "Neuen Zugangscode wiederholen",
            warning_mismatch: "Code nicht identisch",
            label_agb: "Ich akzeptiere die <a onclick=\"openModal('agbModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">AGB</a>, verzichte auf illegale Nutzung und best√§tige die Kenntnisnahme des erl√∂schenden Widerrufsrechts bei digitalen G√ºtern. Ich habe die <a onclick=\"openModal('privacyModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">Datenschutzhinweise</a> gelesen.",
            btn_bind: "LIZENZ BINDEN",
            btn_back: "Zur√ºck",
            warning_loss: "‚ö†Ô∏è Achtung: Der Zugangscode kann nicht wiederhergestellt werden. Notieren Sie sich Ihre Zugangsdaten daher sicher. Ohne Zugangscode kein Zugriff auf Ihre Daten!",

            renew_title: "LIZENZ ABGELAUFEN",
            renew_text: "Deine Lizenz ist abgelaufen. Bitte verl√§ngere deinen Zugang, um die Dienste weiter zu nutzen. Dein Account und deine ID bleiben erhalten.",

            blocked_title: "ZUGANG GESPERRT",
            blocked_text: "Ihr Zugang wurde administrativ gesperrt.<br>Eine Anmeldung ist nicht mehr m√∂glich.",
            blocked_info: "F√ºr weitere Informationen kontaktieren Sie bitte den Support.",

            mode_encrypt: "VERSCHL√úSSELUNG",
            mode_decrypt: "ENTSCHL√úSSELUNG",
            status_secure: "‚óè SICHER",
            label_recipients: "Empf√§nger ID's",
            placeholder_recipients: "z.B. UserA, UserB...",
            label_key: "Schl√ºssel (5-stellig)",
            label_msg_input: "Nachrichteneingabe",
            placeholder_msg: "Nachricht schreiben...",
            btn_encrypt: "üîí DATEN VERSCHL√úSSELN",
            btn_decrypt: "üîì DATEN ENTSCHL√úSSELN",
            label_result: "Ergebnis",
            btn_copy: "üìã KOPIEREN",
            btn_clear: "üßπ LEEREN",
            btn_qr_show: "üì± ALS QR-CODE ANZEIGEN",
            btn_qr_scan: "üì∑ QR-CODE SCANNEN",
            btn_save_txt: "üíæ ALS .TXT SPEICHERN",
            btn_upload_txt: "üìÇ .TXT DATEI HOCHLADEN",

            inbox_title: "POSTFACH",
            inbox_empty: "Keine Nachrichten vorhanden.",
            btn_back_app: "Zur√ºck zur App",

            guide_title: "ANLEITUNG",
            guide_step1: "1. Verschl√ºsseln",
            guide_step2: "2. Entschl√ºsseln",
            guide_step3: "3. Kontakte verwalten",

            info_title: "INFO & SICHERHEIT",
            info_sec_why: "üõ°Ô∏è Warum ist es sicher?",
            info_sec_why_text: "Wir nutzen <b>AES-256-GCM</b> Verschl√ºsselung direkt in deinem Browser. Der Server sieht niemals deinen Klartext und auch nicht deinen 5-stelligen Code. Zus√§tzlich wird die Nachricht 4-fach getarnt (Obfuscation Layers), bevor sie das Ger√§t verl√§sst.",
            info_sec_rec: "üë§ Das Empf√§nger-Prinzip",
            info_sec_rec_text: "Jede Nachricht wird in digitale \"Tresore\" (Slots) verpackt. Nur User, deren ID du beim Verschl√ºsseln angibst, erhalten einen passenden \"Schl√ºssel\" f√ºr ihren Tresor. Alle anderen sehen nur Datensalat ‚Äì selbst wenn sie den 5-stelligen Code erraten w√ºrden.",
            info_sec_adv: "üöÄ Vorteile f√ºr Privat & Business",
            info_sec_adv_list: "<li><b>Keine Cloud-Speicherung:</b> Nachrichten existieren nur fl√ºchtig.</li><li><b>Ger√§te-Bindung:</b> Dein Account ist fest an dein Ger√§t gekoppelt. Kein Fremdzugriff m√∂glich.</li><li><b>Anonymit√§t:</b> Keine E-Mail, keine Telefonnummer n√∂tig.</li>",

            footer_address: "<strong>Secure Messages</strong><br>IT-Security & Encryption Solutions<br>Musterstra√üe 1, 10115 Berlin",
            footer_support: "Support: <a href=\"mailto:support@secure-msg.app\" style=\"color:var(--accent-blue); text-decoration:none;\">support@secure-msg.app</a>",

            modal_qr_title: "QR CODE",
            btn_close: "Schlie√üen",
            btn_save: "üíæ Speichern",

            modal_confirm_title: "Best√§tigen",
            btn_no: "Nein",
            btn_yes: "Ja",

            modal_change_code_title: "ZUGANGSCODE √ÑNDERN",
            modal_change_code_text: "Zur √Ñnderung des Codes m√ºssen wir Ihre lokalen Daten entschl√ºsseln und neu verschl√ºsseln.",
            label_current_code: "Aktueller Code",
            label_new_code_simple: "Neuer Code",
            label_new_code_repeat: "Neuen Code wiederholen",
            btn_change: "√Ñndern",

            modal_contact_add_title: "Kontakt hinzuf√ºgen",
            label_alias: "Empf√§nger Bezeichnung (Alias)",
            placeholder_alias: "Name (optional)",
            hint_alias: "Wenn leer, wird ID verwendet.",
            label_id_req: "Benutzer-ID (Pflichtfeld)",
            placeholder_id: "Exakter Benutzername/ID",
            label_group_assign: "Einer Gruppe zuordnen",
            placeholder_group: "Gruppe w√§hlen oder eingeben",
            btn_save_contact: "Speichern",
            btn_delete: "L√∂schen",

            modal_delete_title: "‚ö†Ô∏è WARNUNG",
            modal_delete_text: "M√∂chtest du deinen Zugang wirklich <b>unwiderruflich l√∂schen</b>?<br><br>Deine Benutzer-ID und deine Lizenz gehen dabei verloren. Eine Wiederherstellung ist nicht m√∂glich!",
            btn_delete_final: "Endg√ºltig L√∂schen",

            modal_faq_title: "H√§ufig gestellte Fragen",

            modal_support_title: "Support kontaktieren",
            label_subject: "Betreff",
            placeholder_subject: "Thema w√§hlen oder eingeben",
            label_email_opt: "E-Mail-Adresse (f√ºr R√ºckmeldung)",
            placeholder_email: "E-Mail (optional bei ID-Angabe)",
            hint_email: "Hinweis: Wenn Sie Ihre ID angeben, erhalten Sie unsere Antwort direkt in Ihr internes Postfach.",
            label_message: "Nachricht",
            placeholder_message_body: "Bitte beschreiben Sie Ihr Anliegen...",
            support_hint_title: "Hinweise f√ºr eine schnelle Hilfe",
            support_hint_text: "Damit wir Ihnen helfen k√∂nnen, ben√∂tigen wir: Ihre ID, eine genaue Problembeschreibung sowie Informationen zu Ihrem Browser und Ger√§t (z. B. Chrome auf Android).",
            support_sec_banner: "WICHTIG: Wir werden Sie NIEMALS nach Ihrem pers√∂nlichen 5-stelligen Zugangscode fragen. Geben Sie diesen niemals an Dritte weiter!",
            btn_send_msg: "Nachricht Senden",
            support_privacy: "Ihre Daten werden nur zur Bearbeitung der Anfrage genutzt. <br>Siehe <a onclick=\"openModal('privacyModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">Datenschutz</a>.",

            modal_sec_code_title: "SICHERHEITS-CODE",
            modal_sec_code_text: "Bitte geben Sie einen 5-stelligen Code ein,<br>um die Daten zu verschl√ºsseln bzw. entschl√ºsseln.",
            btn_confirm: "Best√§tigen",

            modal_backup_title: "BACKUP SICHERUNG"
        },
        shop: {
            back_btn: "‚Üê Zur√ºck zur App",
            offline_title: "SHOP VOR√úBERGEHEND GESCHLOSSEN",
            offline_text: "Unser Shop ist vor√ºbergehend geschlossen. Aktuell k√∂nnen keine neuen Lizenzen erworben werden. Bestehende Lizenzen sind davon nicht betroffen und funktionieren weiterhin einwandfrei.",
            title: "SECURE MESSAGES - Lizenz Shop",
            subtitle: "W√§hle deinen Zugangsschl√ºssel. Anonym. Sicher. Sofort.",
            cat_single: "üîì Einzel-Schl√ºssel",
            cat_bundle: "üì¶ Team Bundles",
            btn_select: "Ausw√§hlen",
            btn_bundle: "Bundle Kaufen",
            tax_note: "Endpreis, keine Ausweisung der MwSt. nach ¬ß 19 UStG",
            info_title: "‚ÑπÔ∏è Wichtige Informationen",
            info_list_1: "Kein Abo: Der Zugang endet automatisch.",
            info_list_2: "Anonymit√§t: Wir speichern keine pers√∂nlichen Daten au√üer der Zahlungs-ID.",
            info_list_3: "Ger√§tebindung: Ein Key gilt f√ºr EIN Endger√§t.",
            status_processing: "Zahlung wird verifiziert",
            status_wait: "Bitte schlie√üen Sie dieses Fenster nicht...",
            status_success: "‚úÖ KAUF ERFOLGREICH",
            status_thanks: "Vielen Dank. Hier sind Ihre Zugangsdaten:",
            status_warning: "‚ö†Ô∏è BITTE SOFORT KOPIEREN & SPEICHERN",
            btn_activate_now: "üöÄ Jetzt Key Aktivieren",
            status_error: "‚ùå Fehler aufgetreten",
            msg_error: "Zahlung konnte nicht zugeordnet werden.",
            btn_retry: "Zur√ºck versuchen",
            modal_confirm: "Kauf best√§tigen",
            label_email: "Ihre E-Mail (f√ºr Backup)",
            btn_checkout: "ZUR KASSE (STRIPE)"
        },
        admin: {
            login_title: "ADMIN CORE",
            btn_unlock: "Unlock",
            nav_dashboard: "Dashboard",
            nav_users: "Benutzer",
            nav_purchases: "K√§ufe",
            nav_licenses: "Lizenzen",
            nav_mail: "Mail Service",
            nav_maint: "Wartung",
            sec_overview: "System Overview",
            stat_users: "Aktive Nutzer",
            stat_licenses: "Aktive Lizenzen",
            stat_sales: "Verk√§ufe Gesamt",
            stat_revenue: "Umsatz",
            sec_user_mgmt: "Benutzerverwaltung",
            col_id: "ID",
            col_user: "Username",
            col_status: "Status",
            col_last_login: "Letzter Login",
            col_device: "Ger√§t",
            col_actions: "Aktionen",
            sec_trans: "Transaktionen",
            col_date: "Datum",
            col_email: "Email",
            col_product: "Produkt",
            col_amount: "Betrag",
            sec_lic_single: "A: Einzel-Lizenzen",
            sec_lic_bundle: "B: Bundle / Sell-Tool",
            btn_gen: "Generieren",
            btn_bundle_create: "Bundle Erstellen",
            sec_mail: "Support & Postfach",
            view_inbox: "Posteingang (Tickets)",
            view_compose: "Nachricht verfassen",
            view_templates: "Vorlagen",
            sec_control: "Control Center",
            maint_mode: "Globaler Wartungsmodus",
            maint_desc: "Wenn aktiv, werden alle Nutzer auf die Maintenance-Page umgeleitet. Admin-Login bleibt m√∂glich.",
            shop_status: "Shop Status",
            shop_desc: "Steuert die Kauf-Funktion auf der Landingpage. \"Offline\" deaktiviert neue Registrierungen.",
            admin_2fa: "Admin 2FA Sicherheit",
            admin_2fa_desc: "Zus√§tzlicher Schutz f√ºr den Admin-Bereich. Aktivieren Sie 2FA f√ºr erh√∂hte Sicherheit."
        }
    },
    en: {
        landing: {
            nav_app: "To Web App",
            hero_title: "Encrypt messages securely.<br>Send everywhere.",
            hero_desc: "Local AES-GCM cryptography (Zero-Knowledge). <br>No server processing, no storage <br>Absolute data sovereignty, because <br>...Your message is a <b>Secure Message</b>",
            hero_btn: "Start from 1.99‚Ç¨",
            shop_offline: "No new registrations currently possible.",
            steps_title: "Total security in 3 steps",
            step1_title: "1. Input",
            step1_desc: "Write message & choose recipient.",
            step2_title: "2. Encryption",
            step2_desc: "Local 4-Layer-Encryption (Zero-Knowledge).",
            step3_title: "3. Send",
            step3_desc: "Send encrypted package via any channel.",
            grid_title: "Maximum security, minimal traces.",
            feat1_title: "Provider-Agnostic Communication Sovereignty",
            feat1_desc: "Encrypt texts, media, and documents regardless of the transmission medium used. Our technology transforms conventional messaging services like WhatsApp, Email, or Signal into highly secure transfer channels.",
            feat2_title: "Self-Sufficient Client-Side-Encryption (Zero-Knowledge)",
            feat2_desc: "All cryptographic operations are executed in isolation on your device. No content or decryption codes are transmitted to the server. What is encrypted on your device remains mathematically inaccessible to third parties.",
            feat3_title: "Absolute Identity Isolation & Pseudonymity",
            feat3_desc: "Your digital presence is based on a chosen alias and an ID sequence. There is no link to real names, emails, or phone numbers. This separation ensures anonymity towards the system.",
            feat4_title: "Maximum Data Integrity & Exclusive Access",
            feat4_desc: "Data sovereignty lies exclusively with you. Decentralized key management prevents administrative access by the provider. Only the combination of recipient binding and access code allows decoding.",
            feat5_title: "Intelligent Data Economy & Hardware Integrity",
            feat5_desc: "We only store system-relevant metadata for license validation. The system uses hardware-level analysis for unique device binding, while contact IDs remain volatile in the local cache.",
            feat6_title: "Multi-Level Protection & Forensics Resistance",
            feat6_desc: "Unauthorized access is prevented by mandatory hardware binding. The application is designed to be forensic-resistant; in case of device loss, the system offers no attack surface for data extraction.",
            showcase_title: "App Insight",
            deep_title: "Mathematically Unbreakable.",
            deep_desc1: "It's not just AES. Security comes from the additional combination of <strong>4-fold obfuscation</strong> involving the <strong>5-digit secret code</strong>, the specific <strong>recipient ID</strong>, and cryptographic <strong>device binding</strong>.",
            deep_desc2: "Each encryption is a mathematical unique. It is based on the complex combination of key, recipient, device signature, and text. This makes the system safer than conventional standards: Intercepting the data is useless if you don't physically possess the right device AND the code.",
            deep_list1: "‚úì AES-256-GCM Encryption",
            deep_list2: "‚úì Device & Recipient Binding",
            deep_list3: "‚úì PBKDF2 Key Hardening",
            deep_list4: "‚úì Algorithmic Payload Obfuscation",
            use_title: "Who is Secure Messages for?",
            use1_title: "Individuals",
            use1_desc: "Protect private messages, passwords, or surprises from prying eyes.",
            use2_title: "Businesses",
            use2_desc: "Secure exchange of access data, API keys, or confidential notes within the team without company chat logs.",
            use3_title: "Groups",
            use3_desc: "Organize events or share info not meant for third parties, no matter on which platform.",
            footer_imprint: "Imprint",
            footer_privacy: "Privacy",
            footer_agb: "Terms & Policies",
            footer_contact: "Contact",
            cookie_title: "Privacy & Cookies",
            cookie_desc: "We use cookies to ensure functionality (e.g., login status). No tracking or advertising cookies are set.",
            cookie_accept_all: "Accept All",
            cookie_accept_ess: "Essential Only",
            rights_reserved: "&copy; 2025 Secure Messages. All rights reserved.",
            legal_imprint_title: "Imprint",
            legal_privacy_title: "Privacy Policy",
            legal_agb_title: "Terms and Conditions (AGB) ‚Äì SECURE MESSAGES",
            carousel_1_title: "Maximum Security at Input:",
            carousel_1_desc: "Your text is locally encrypted with a 5-digit pattern and selected recipients.",
            carousel_2_title: "Easy and Discrete Sending:",
            carousel_2_desc: "The result is a compact QR code, ready to share securely via any channel.",
            carousel_3_title: "Only for Authorized Eyes:",
            carousel_3_desc: "Decryption back to readable text only works with the exact same 5-digit access code.",
            carousel_4_title: "More than just Text:",
            carousel_4_desc: "Sensitive files like images or PDFs are also made visible securely directly in the browser.",
            carousel_5_title: "Local Address Book:",
            carousel_5_desc: "Manage trusted recipient IDs securely on your device for quick and easy access."
        },
        app: {
            sidebar_user: "üë§Guest",
            sidebar_license_na: "Not connected",
            sidebar_post: "üì´ Inbox",
            sidebar_contacts: "üìá Contacts",
            sidebar_guide: "üìñ Guide",
            sidebar_info: "‚ÑπÔ∏è Info & Security",
            sidebar_shop: "üõí License Shop",
            sidebar_faq: "FAQ / Help",
            sidebar_support: "üÜò Support",
            sidebar_change_code: "üîë Change Code",
            sidebar_logout: "üîí Logout",
            sidebar_delete: "‚ö†Ô∏è Delete Access",

            contact_header: "CONTACTS",
            contact_search: "Search...",
            contact_group_check: "Check groups:",
            contact_col_name: "Recipient ‚Üï",
            contact_col_group: "Group ‚Üï",
            contact_empty: "No contacts found.",
            contact_hint: "Note: Contacts are stored locally in your browser only. Export your directory regularly to avoid data loss when clearing browser cache.",
            btn_export: "‚¨á Export",
            btn_import: "‚¨Ü Import",
            btn_edit: "‚úé Edit",
            btn_add: "+ Add",
            btn_cancel: "Cancel",
            btn_apply: "Apply",

            login_title: "IDENTIFICATION",
            label_user: "Username",
            placeholder_user: "USER.ID",
            label_code: "Access Code",
            btn_connect: "ESTABLISH CONNECTION",
            link_activate: "Activate License Key",

            act_title: "LICENSING",
            label_license: "License Key",
            label_new_user: "New Username",
            label_new_code: "New Access Code (5-Digits)",
            label_repeat_code: "Repeat New Access Code",
            warning_mismatch: "Codes do not match",
            label_agb: "I accept the <a onclick=\"openModal('agbModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">Terms</a>, waive illegal use, and acknowledge the expiration of the right of withdrawal for digital goods. I have read the <a onclick=\"openModal('privacyModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">Privacy Policy</a>.",
            btn_bind: "BIND LICENSE",
            btn_back: "Back",
            warning_loss: "‚ö†Ô∏è Warning: The access code cannot be recovered. Please note down your access data securely. No access to your data without the access code!",

            renew_title: "LICENSE EXPIRED",
            renew_text: "Your license has expired. Please renew your access to continue using the services. Your account and ID will be preserved.",

            blocked_title: "ACCESS BLOCKED",
            blocked_text: "Your access has been administratively blocked.<br>Login is no longer possible.",
            blocked_info: "For further information, please contact support.",

            mode_encrypt: "ENCRYPTION",
            mode_decrypt: "DECRYPTION",
            status_secure: "‚óè SECURE",
            label_recipients: "Recipient IDs",
            placeholder_recipients: "e.g. UserA, UserB...",
            label_key: "Key (5-digits)",
            label_msg_input: "Message Input",
            placeholder_msg: "Write message...",
            btn_encrypt: "üîí ENCRYPT DATA",
            btn_decrypt: "üîì DECRYPT DATA",
            label_result: "Result",
            btn_copy: "üìã COPY",
            btn_clear: "üßπ CLEAR",
            btn_qr_show: "üì± SHOW AS QR-CODE",
            btn_qr_scan: "üì∑ SCAN QR-CODE",
            btn_save_txt: "üíæ SAVE AS .TXT",
            btn_upload_txt: "üìÇ UPLOAD .TXT FILE",

            inbox_title: "INBOX",
            inbox_empty: "No messages available.",
            btn_back_app: "Back to App",

            guide_title: "GUIDE",
            guide_step1: "1. Encrypt",
            guide_step2: "2. Decrypt",
            guide_step3: "3. Manage Contacts",

            info_title: "INFO & SECURITY",
            info_sec_why: "üõ°Ô∏è Why is it secure?",
            info_sec_why_text: "We use <b>AES-256-GCM</b> encryption directly in your browser. The server never sees your plaintext nor your 5-digit code. Additionally, the message is camouflaged 4 times (Obfuscation Layers) before it leaves the device.",
            info_sec_rec: "üë§ The Recipient Principle",
            info_sec_rec_text: "Every message is packed into digital \"vaults\" (slots). Only users whose ID you specify during encryption receive a matching \"key\" for their vault. Everyone else sees only gibberish ‚Äì even if they guessed the 5-digit code.",
            info_sec_adv: "üöÄ Advantages for Private & Business",
            info_sec_adv_list: "<li><b>No Cloud Storage:</b> Messages exist only transiently.</li><li><b>Device Binding:</b> Your account is firmly coupled to your device. No foreign access possible.</li><li><b>Anonymity:</b> No Email, no phone number necessary.</li>",

            footer_address: "<strong>Secure Messages</strong><br>IT-Security & Encryption Solutions<br>Musterstra√üe 1, 10115 Berlin",
            footer_support: "Support: <a href=\"mailto:support@secure-msg.app\" style=\"color:var(--accent-blue); text-decoration:none;\">support@secure-msg.app</a>",

            modal_qr_title: "QR CODE",
            btn_close: "Close",
            btn_save: "üíæ Save",

            modal_confirm_title: "Confirm",
            btn_no: "No",
            btn_yes: "Yes",

            modal_change_code_title: "CHANGE ACCESS CODE",
            modal_change_code_text: "To change the code, we must decrypt and re-encrypt your local data.",
            label_current_code: "Current Code",
            label_new_code_simple: "New Code",
            label_new_code_repeat: "Repeat New Code",
            btn_change: "Change",

            modal_contact_add_title: "Add Contact",
            label_alias: "Recipient Label (Alias)",
            placeholder_alias: "Name (optional)",
            hint_alias: "If empty, ID is used.",
            label_id_req: "User ID (Required)",
            placeholder_id: "Exact Username/ID",
            label_group_assign: "Assign to Group",
            placeholder_group: "Select group or type",
            btn_save_contact: "Save",
            btn_delete: "Delete",

            modal_delete_title: "‚ö†Ô∏è WARNING",
            modal_delete_text: "Do you really want to <b>irrevocably delete</b> your access?<br><br>Your user ID and license will be lost. Recovery is not possible!",
            btn_delete_final: "Delete Permanently",

            modal_faq_title: "Frequently Asked Questions",

            modal_support_title: "Contact Support",
            label_subject: "Subject",
            placeholder_subject: "Select topic or type",
            label_email_opt: "Email Address (for reply)",
            placeholder_email: "Email (optional if ID provided)",
            hint_email: "Note: If you provide your ID, you will receive our reply directly in your internal inbox.",
            label_message: "Message",
            placeholder_message_body: "Please describe your request...",
            support_hint_title: "Tips for quick help",
            support_hint_text: "To help you, we need: Your ID, a precise problem description, and information about your browser and device (e.g., Chrome on Android).",
            support_sec_banner: "IMPORTANT: We will NEVER ask for your personal 5-digit access code. Never give this to third parties!",
            btn_send_msg: "Send Message",
            support_privacy: "Your data is only used to process the request. <br>See <a onclick=\"openModal('privacyModal')\" style=\"color:var(--accent-blue); cursor:pointer; text-decoration:underline;\">Privacy</a>.",

            modal_sec_code_title: "SECURITY CODE",
            modal_sec_code_text: "Please enter a 5-digit code,<br>to encrypt or decrypt data.",
            btn_confirm: "Confirm",

            modal_backup_title: "BACKUP SECURITY"
        },
        shop: {
            back_btn: "‚Üê Back to App",
            offline_title: "SHOP TEMPORARILY CLOSED",
            offline_text: "Our shop is temporarily closed. No new licenses can be purchased at this time. Existing licenses are not affected and continue to work perfectly.",
            title: "SECURE MESSAGES - License Shop",
            subtitle: "Choose your access key. Anonymous. Secure. Instant.",
            cat_single: "üîì Single Keys",
            cat_bundle: "üì¶ Team Bundles",
            btn_select: "Select",
            btn_bundle: "Buy Bundle",
            tax_note: "Final price, no VAT shown acc. to ¬ß 19 UStG",
            info_title: "‚ÑπÔ∏è Important Information",
            info_list_1: "No Subscription: Access ends automatically.",
            info_list_2: "Anonymity: We store no personal data except payment ID.",
            info_list_3: "Device Binding: One key is valid for ONE device.",
            status_processing: "Verifying payment",
            status_wait: "Please do not close this window...",
            status_success: "‚úÖ PURCHASE SUCCESSFUL",
            status_thanks: "Thank you. Here are your access credentials:",
            status_warning: "‚ö†Ô∏è PLEASE COPY & SAVE IMMEDIATELY",
            btn_activate_now: "üöÄ Activate Key Now",
            status_error: "‚ùå Error occurred",
            msg_error: "Payment could not be assigned.",
            btn_retry: "Try again",
            modal_confirm: "Confirm Purchase",
            label_email: "Your Email (for backup)",
            btn_checkout: "CHECKOUT (STRIPE)"
        },
        admin: {
            login_title: "ADMIN CORE",
            btn_unlock: "Unlock",
            nav_dashboard: "Dashboard",
            nav_users: "Users",
            nav_purchases: "Purchases",
            nav_licenses: "Licenses",
            nav_mail: "Mail Service",
            nav_maint: "Maintenance",
            sec_overview: "System Overview",
            stat_users: "Active Users",
            stat_licenses: "Active Licenses",
            stat_sales: "Total Sales",
            stat_revenue: "Revenue",
            sec_user_mgmt: "User Management",
            col_id: "ID",
            col_user: "Username",
            col_status: "Status",
            col_last_login: "Last Login",
            col_device: "Device",
            col_actions: "Actions",
            sec_trans: "Transactions",
            col_date: "Date",
            col_email: "Email",
            col_product: "Product",
            col_amount: "Amount",
            sec_lic_single: "A: Single Licenses",
            sec_lic_bundle: "B: Bundle / Sell-Tool",
            btn_gen: "Generate",
            btn_bundle_create: "Create Bundle",
            sec_mail: "Support & Inbox",
            view_inbox: "Inbox (Tickets)",
            view_compose: "Compose Message",
            view_templates: "Templates",
            sec_control: "Control Center",
            maint_mode: "Global Maintenance Mode",
            maint_desc: "If active, all users are redirected to the Maintenance Page. Admin login remains possible.",
            shop_status: "Shop Status",
            shop_desc: "Controls the purchase function on the landing page. \"Offline\" disables new registrations.",
            admin_2fa: "Admin 2FA Security",
            admin_2fa_desc: "Additional protection for the admin area. Enable 2FA for increased security."
        }
    }
};

window.updatePageText = function() {
    const lang = localStorage.getItem('sm_pref_lang') || 'de';
    document.documentElement.lang = lang;

    const dict = window.translations[lang] || window.translations['de'];

    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const keys = key.split('.');

        let val = dict;
        for (const k of keys) {
            val = val ? val[k] : null;
        }

        if (val) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                if (el.hasAttribute('placeholder')) {
                    el.placeholder = val;
                }
            } else {
                 el.innerHTML = val;
            }
        }
    });

    // Update Dropdown Selection
    const selector = document.getElementById('langSelector');
    if(selector) selector.value = lang.toUpperCase();
};

window.setLanguage = function(lang) {
    localStorage.setItem('sm_pref_lang', lang.toLowerCase());
    window.updatePageText();
};

// Initial Load
document.addEventListener('DOMContentLoaded', () => {
    // Inject Footer Dropdown if not exists
    const footers = document.querySelectorAll('footer .container, footer');
    footers.forEach(footer => {
        if (!footer.querySelector('.lang-select-container')) {
            const div = document.createElement('div');
            div.className = 'lang-select-container';
            div.style.marginTop = '20px';
            div.style.textAlign = 'center';
            div.innerHTML = `
                <select id="langSelector" onchange="window.setLanguage(this.value)" style="background:#111; color:#888; border:1px solid #333; padding:5px; border-radius:4px; font-size:0.8rem;">
                    <option value="DE">üá©üá™ DE</option>
                    <option value="EN">üá∫üá∏ EN</option>
                </select>
            `;
            // Append at the end of footer content
            footer.appendChild(div);
        }
    });

    window.updatePageText();
});
