<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECURE MESSAGES - High End Encryption</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> -->
    <link rel="stylesheet" href="/assets/fontawesome-css/all.min.css">
    <style>
        :root {
            --bg-dark: #050505;
            --bg-panel: #0f1215;
            --accent-blue: #00BFFF;
            --accent-glow: rgba(0, 191, 255, 0.3);
            --text-main: #e0e0e0;
            --text-muted: #8899a6;
            --border-color: #333;

            --hero-gradient: linear-gradient(180deg, rgba(0,191,255,0.05) 0%, rgba(5,5,5,0) 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .bg-grid {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image:
                linear-gradient(rgba(0, 191, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 191, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            z-index: -1; pointer-events: none;
        }

        /* Typography */
        h1, h2, h3, h4 { font-weight: 700; color: #fff; line-height: 1.2; }
        h1 { font-size: 3.5rem; letter-spacing: -1px; margin-bottom: 20px; }
        h2 { font-size: 2.5rem; margin-bottom: 40px; text-align: center; }
        h3 { font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-blue); }
        p { color: var(--text-muted); font-size: 1.1rem; margin-bottom: 20px; }
        .tech-font { font-family: 'Roboto Mono', monospace; font-size: 0.9rem; }

        /* Animation Classes */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s ease;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }
        .floating-anim {
            animation: floating 6s ease-in-out infinite;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            background: rgba(0, 191, 255, 0.1);
            border: 1px solid var(--accent-blue);
            color: var(--accent-blue);
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
        .btn:hover { background: rgba(0, 191, 255, 0.2); box-shadow: 0 0 20px var(--accent-glow); }
        .btn-primary {
            background: var(--accent-blue); color: #000;
            box-shadow: 0 0 15px var(--accent-glow);
        }
        .btn-primary:hover { background: #33ccff; }

        /* Layout */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        section { padding: 100px 0; }

        /* Header */
        header {
            position: fixed; top: 0; left: 0; width: 100%;
            padding: 20px 0;
            background: rgba(5, 5, 5, 0.8);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255,255,255,0.05);
            z-index: 1000;
        }
        header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 700; color: #fff; display: flex; align-items: center; gap: 10px; letter-spacing: 2px; }
        .logo svg { width: 30px; height: 30px; fill: var(--accent-blue); }

        /* Hero */
        .hero {
            padding-top: 180px;
            text-align: center;
            background: radial-gradient(circle at 50% 30%, rgba(0,191,255,0.08) 0%, transparent 70%);
        }
        .hero p { max-width: 700px; margin: 0 auto 40px auto; }
        .hero-visual {
            margin-top: 60px;
            position: relative;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .hero-image {
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 0 80px rgba(0,191,255,0.05);
            border: 1px solid #333;
        }

        /* Feature Grid */
        .grid-section { background: #080a0c; border-top: 1px solid #222; border-bottom: 1px solid #222; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px; }

        .feature-card {
            background: #050505;
            border: 1px solid #333;
            transition: all 0.4s ease;
            position: relative;
            height: 320px;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
        }

        .feature-card:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
            transform: translateY(-5px);
        }

        .feature-state {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .state-inactive {
            opacity: 1;
            transform: translateY(0);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding-top: 40px;
        }

        .state-active {
            opacity: 0;
            transform: translateY(20px);
            background: #050505;
        }

        .feature-card:hover .state-inactive {
            opacity: 0;
            transform: translateY(-20px);
        }

        .feature-card:hover .state-active {
            opacity: 1;
            transform: translateY(0);
        }

        .feature-icon-large {
            font-size: 4rem;
            color: var(--accent-blue);
            margin-top: 40px;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0;
            color: var(--accent-blue);
        }

        .state-active p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #ffffff;
        }

        /* Tech Deep Dive */
        .deep-dive { display: flex; flex-wrap: wrap; align-items: center; gap: 60px; }
        .deep-dive-content { flex: 1; min-width: 300px; }
        .deep-dive-visual {
            flex: 1; min-width: 300px; height: 300px;
            border: 1px solid var(--accent-blue);
            display: flex; align-items: center; justify-content: center;
            position: relative;
            background: #000;
            overflow: hidden;
        }
        .feature-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Use Cases */
        .use-cases {
            background: url('global-network.jpg') center center no-repeat;
            background-size: cover;
            position: relative;
        }
        .use-cases::before {
            content: "";
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(5,5,5,0.85);
            z-index: 0;
        }
        .use-cases .container { position: relative; z-index: 1; }
        .use-cases .grid { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .use-case-card { text-align: center; }

        /* Footer */
        footer { padding: 50px 0; border-top: 1px solid #222; text-align: center; color: #666; font-size: 0.9rem; }
        footer a { color: #888; text-decoration: none; margin: 0 10px; transition: color 0.2s; cursor: pointer; }
        footer a:hover { color: var(--accent-blue); }

        /* Modals */
        .modal {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(15px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .modal.active { display: flex; opacity: 1; }
        .modal-content {
            background: var(--bg-panel);
            border: 1px solid var(--accent-blue);
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 30px rgba(0,191,255,0.1);
        }
        .modal-close {
            position: absolute; top: 15px; right: 15px;
            background: none; border: none; color: #fff;
            font-size: 1.5rem; cursor: pointer;
        }

        /* App Showcase / Carousel */
        .app-showcase {
            background: #0b0d10;
            position: relative;
            overflow: hidden;
        }
        .carousel-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 60px; /* Space for arrows */
        }
        .carousel-main {
            position: relative;
            height: 0;
            padding-bottom: 75%; /* 16:9 Aspect Ratio */
            margin-bottom: 40px;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            background: #000;
            border: 1px solid #333;
        }
        .carousel-image {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: contain;
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
            padding: 0px;
        }
        .carousel-image.active {
            opacity: 1;
            z-index: 10;
        }
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(15, 18, 21, 0.8);
            border: 1px solid var(--accent-blue);
            color: var(--accent-blue);
            width: 50px; height: 50px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            z-index: 20;
            transition: all 0.2s;
            font-size: 1.5rem;
            user-select: none;
        }
        .carousel-nav:hover {
            background: var(--accent-blue);
            color: #000;
            box-shadow: 0 0 15px var(--accent-glow);
            transform: translateY(-50%) scale(1.1);
        }
        .nav-prev { left: 0; }
        .nav-next { right: 0; }

        .carousel-captions {
            position: relative;
            min-height: 100px;
            text-align: center;
        }
        .caption-item {
            position: absolute;
            top: 0; left: 0; width: 100%;
            opacity: 0;
            transition: all 0.5s ease;
            transform: translateY(10px);
            pointer-events: none;
        }
        .caption-item.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        .caption-item p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: var(--text-main);
        }
        .caption-highlight {
            color: #fff;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 191, 255, 0.3);
            display: block;
            margin-bottom: 5px;
            font-size: 1.3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .carousel-container { padding: 0; }
            .carousel-nav { width: 36px; height: 36px; font-size: 1.2rem; }
            .nav-prev { left: 10px; }
            .nav-next { right: 10px; }

            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            .hero { padding-top: 120px; }
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>

    <header>
        <div class="container">
            <div class="logo">
                <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                SECURE MESSAGES
            </div>
            <a href="/app" class="btn">Zur Web-App</a>
        </div>
    </header>

    <section class="hero reveal">
        <div class="container">
            <h1>Nachrichten sicher verschlüsseln.<br>Überall versenden.</h1>
            <p>Lokale AES-GCM-Kryptografie (Zero-Knowledge). <br>Keine Serververarbeitung, kein Speichern <br>Absolute Datensouveränität, denn <br>...Your message is a <b>Secure Message</b></p>

            <a href="/shop" id="heroBuyBtn" class="btn btn-primary">Ab 1,99€ Loslegen</a>
            <p id="shopOfflineMsg" style="display:none; color:var(--error-red); margin-top:10px;">Aktuell keine neuen Registrierungen möglich.</p>

            <div class="hero-visual">
                <img src="hero-secure-vault.jpg" alt="Secure Digital Vault" class="hero-image floating-anim">
            </div>
        </div>
    </section>

    <section class="grid-section reveal">
        <div class="container">
            <h2>Maximale Sicherheit, minimale Spuren.</h2>
            <div class="grid">
                <!-- Kachel 1 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Provider-Agnostische Kommunikationssouveränität</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-share-nodes"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Verschlüsseln Sie Texte, Medien und Dokumente unabhängig vom genutzten Übertragungsmedium. Unsere Technologie transformiert herkömmliche Versanddienste wie WhatsApp, E-Mail oder Signal in hochgradig gesicherte Transferkanäle.</p>
                    </div>
                </div>

                <!-- Kachel 2 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Autarke Client-Side-Encryption (Zero-Knowledge)</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-laptop-code"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Sämtliche kryptografischen Operationen werden isoliert auf Ihrem Endgerät ausgeführt. Es erfolgt keine Übermittlung von Inhalten oder Entschlüsselungscodes an den Server. Was auf Ihrem Gerät verschlüsselt wird, bleibt mathematisch unzugänglich für Dritte.</p>
                    </div>
                </div>

                <!-- Kachel 3 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Absolute Identitäts-Isolierung & Pseudonymität</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-user-secret"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Ihre digitale Präsenz basiert auf einem gewählten Alias und einer ID-Sequenz. Es erfolgt keine Verknüpfung mit Klarnamen, E-Mails oder Rufnummern. Diese Trennung gewährleistet Anonymität gegenüber dem System.</p>
                    </div>
                </div>

                <!-- Kachel 4 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Maximale Datenintegrität & Exklusiv-Zugriff</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-lock"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Die Datenhoheit liegt exklusiv bei Ihnen. Durch dezentrale Schlüsselverwaltung ist ein administrativer Zugriff durch den Anbieter ausgeschlossen. Nur die Kombination aus Empfänger-Binding und Zugangscode ermöglicht die Dekodierung.</p>
                    </div>
                </div>

                <!-- Kachel 5 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Intelligente Datensparsamkeit & Hardware-Integrität</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-database"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Wir speichern nur systemrelevante Metadaten zur Lizenzvalidierung. Das System nutzt hardwarenahe Analysen für eine eindeutige Gerätebindung, während Kontakt-IDs flüchtig im lokalen Cache verbleiben.</p>
                    </div>
                </div>

                <!-- Kachel 6 -->
                <div class="feature-card">
                    <div class="feature-state state-inactive">
                        <h3>Multi-Level-Protektion & Forensik-Resistenz</h3>
                        <div class="feature-icon-large">
                            <i class="fa-solid fa-user-lock"></i>
                        </div>
                    </div>
                    <div class="feature-state state-active">
                        <p>Unbefugter Zugriff wird durch obligatorisches Hardware-Binding verhindert. Die Anwendung ist forensisch resistent konzipiert; bei Geräteverlust bietet das System keine Angriffsfläche für Datenextraktion.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="app-showcase reveal">
        <div class="container">
            <h2>App Einblick</h2>
            <div class="carousel-container">
                <div class="carousel-nav nav-prev" id="prevBtn">&#8592;</div>
                <div class="carousel-main" id="carouselImages">
                    <!-- Images will be injected here -->
                </div>
                <div class="carousel-nav nav-next" id="nextBtn">&#8594;</div>
            </div>
            <div class="carousel-captions" id="carouselCaptions">
                <!-- Captions will be injected here -->
            </div>
        </div>
    </section>

    <section class="reveal">
        <div class="container deep-dive">
            <div class="deep-dive-content">
                <h2>Mathematisch unknackbar.</h2>
                <p>Es ist nicht nur AES. Die Sicherheit entsteht durch die zusätliche Kombination einer <strong>4-fachen Verschleierung (Obfuscation)</strong> unter Einbindung des <strong>5-stelligen Geheimcodes</strong>, der spezifischen <strong>Empfänger-ID</strong> und kryptografischer <strong>Geräte-Bindung</strong>.</p>
                <p class="tech-font" style="margin-top:20px;">
                    Jede Verschlüsselung ist ein mathematisches Unikat. Sie basiert auf der komplexen Verknüpfung von Schlüssel, Empfänger, Geräte-Signatur und Text. Das macht das System sicherer als herkömmliche Standards: Ein Abfangen der Daten ist wertlos, wenn man nicht physisch das richtige Gerät UND den Code besitzt.
                </p>
                <ul class="tech-font" style="list-style: none; color: var(--text-muted); margin-top: 20px;">
                    <li style="margin-bottom: 10px;">✓ AES-256-GCM Encryption</li>
                    <li style="margin-bottom: 10px;">✓ Device & Recipient Binding</li>
                    <li style="margin-bottom: 10px;">✓ PBKDF2 Key Hardening</li>
                    <li style="margin-bottom: 10px;">✓ Algorithmic Payload Obfuscation</li>
                </ul>
            </div>
            <div class="deep-dive-visual">
                <img src="encryption-layers.jpg" alt="Encryption Layers" class="feature-image">
            </div>
        </div>
    </section>


    <section class="grid-section use-cases reveal">
        <div class="container">
            <h2>Für wen ist Secure Messages?</h2>
            <div class="grid">
                <div class="use-case-card">
                    <h3 style="color: #fff;">Einzelpersonen</h3>
                    <p>Schütze private Nachrichten, Passwörter oder Überraschungen vor neugierigen Blicken.</p>
                </div>
                <div class="use-case-card">
                    <h3 style="color: #fff;">Unternehmen</h3>
                    <p>Sicherer Austausch von Zugangsdaten, API-Keys oder vertraulichen Notizen im Team ohne Firmen-Chat Logs.</p>
                </div>
                <div class="use-case-card">
                    <h3 style="color: #fff;">Gruppen</h3>
                    <p>Organisiere Events oder teile Infos, die nicht für Dritte bestimmt sind, egal auf welcher Plattform.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="logo" style="justify-content: center; margin-bottom: 20px; opacity: 0.5;">SECURE MESSAGES</div>
            <p style="margin-bottom: 30px;">
                <a onclick="openModal('imprintModal')">Impressum</a>
                <a onclick="openModal('privacyModal')">Datenschutz</a>
                <a onclick="openModal('agbModal')">AGB & Richtlinien</a>
                <a href="mailto:support@secure-msg.app">Kontakt</a>
            </p>
            <p>&copy; 2025 Secure Messages. All rights reserved.</p>
        </div>
    </footer>

    <!-- COOKIE BANNER -->
    <div id="cookieBanner" style="display:none; position:fixed; bottom:20px; right:20px; z-index:9999; width:350px; background:#0f1215; border:1px solid var(--accent-blue); padding:20px; border-radius:8px; box-shadow:0 0 20px rgba(0,0,0,0.8);">
        <h4 style="color:#fff; margin-bottom:10px; font-size:1rem;">Datenschutz & Cookies</h4>
        <p style="font-size:0.8rem; color:#ccc; line-height:1.5; margin-bottom:15px;">
            Wir nutzen Cookies, um die Funktionalität (z.B. Login-Status) zu gewährleisten. Es werden keine Tracking- oder Werbe-Cookies gesetzt.
            <br><a onclick="openModal('privacyModal')" style="color:var(--accent-blue); text-decoration:none; cursor:pointer;">Datenschutz</a> &bull; <a onclick="openModal('imprintModal')" style="color:var(--accent-blue); text-decoration:none; cursor:pointer;">Impressum</a>
        </p>
        <div style="display:flex; gap:10px;">
            <button id="cookieAcceptAll" class="btn btn-primary" style="flex:1; padding:8px; font-size:0.8rem;">Alles Akzeptieren</button>
            <button id="cookieAcceptEssential" class="btn" style="flex:1; padding:8px; font-size:0.8rem; background:transparent; border-color:#555; color:#ccc;">Nur Essenzielle</button>
        </div>
    </div>

    <!-- IMPRESSUM MODAL -->
    <div id="imprintModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('imprintModal')">×</button>
            <div class="legal-section" style="font-family:'Roboto Mono'; font-size:0.9rem; color:#ccc;">
                <h3 style="font-size:1.5rem; color:var(--accent-blue); margin-bottom:15px;">Impressum</h3>
                <p><strong>Angaben gemäß § 5 TMG</strong></p>
                <p style="margin-bottom: 15px;">
                    Secure Messages<br>
                    [VORNAME NACHNAME]<br>
                    [STRASSE HAUSNUMMER]<br>
                    [PLZ STADT]<br>
                    Deutschland
                </p>

                <p style="margin-bottom: 15px;"><strong>Kontakt:</strong><br>
                E-Mail: support@secure-msg.app<br>
                Web: www.secure-msg.app</p>

                <p style="margin-bottom: 15px;"><strong>Umsatzsteuer:</strong><br>
                Umsatzsteuer-Identifikationsnummer gemäß §27 a Umsatzsteuergesetz entfällt, da Kleinunternehmerregelung gemäß § 19 UStG angewendet wird.</p>

                <p style="margin-bottom: 15px;"><strong>Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV:</strong><br>
                [VORNAME NACHNAME]<br>
                [ADRESSE WIE OBEN]</p>

                <p><strong>EU-Streitschlichtung:</strong><br>
                Die Europäische Kommission stellt eine Plattform zur Online-Streitbeilegung (OS) bereit:
                <a href="https://ec.europa.eu/consumers/odr/" target="_blank" style="color:var(--accent-blue);">https://ec.europa.eu/consumers/odr/</a>.</p>
            </div>
        </div>
    </div>

    <!-- PRIVACY MODAL -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('privacyModal')">×</button>
            <div class="legal-section" style="font-family:'Roboto Mono'; font-size:0.9rem; color:#ccc;">
                <h3 style="font-size:1.5rem; color:var(--accent-blue); margin-bottom:15px;">Datenschutzerklärung (Privacy Policy)</h3>

                <h4 style="color:#fff; margin-bottom:5px;">1. Einleitung und Verantwortlicher</h4>
                <p style="margin-bottom:15px;">Der Schutz Ihrer Privatsphäre ist das fundamentale Prinzip von SECURE MESSAGES. Wir verfolgen einen Ansatz der radikalen Datensparsamkeit (Privacy by Design).<br>
                Verantwortlich für die Datenverarbeitung auf dieser Webseite ist:<br>
                [DEIN NAME/UNTERNEHMEN]<br>
                [ADRESSE]<br>
                [PLZ/STADT], Deutschland<br>
                E-Mail: support@secure-msg.app</p>

                <h4 style="color:#fff; margin-bottom:5px;">2. Grundpfeiler der Verschlüsselung (Zero-Knowledge)</h4>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Lokale Verarbeitung: Die Verschlüsselung und Entschlüsselung von Inhalten erfolgt ausschließlich lokal auf Ihrem Endgerät.</li>
                    <li>Kein Serverzugriff: Zu keinem Zeitpunkt werden Klartexte, Zugangscodes (Passphrasen) oder private kryptografische Schlüssel an unsere Server übertragen oder dort gespeichert.</li>
                    <li>Inhalts-Anonymität: Wir haben technisch keine Möglichkeit, die von Ihnen verschlüsselten Nachrichten einzusehen oder zu rekonstruieren.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">3. Datenerhebung und Verarbeitung bei Nutzung des Dienstes</h4>
                <p style="margin-bottom:5px;">Wir erheben und verarbeiten nur Daten, die für die Bereitstellung des Dienstes technisch zwingend erforderlich sind:</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Benutzer-Identifikatoren: Wir speichern Ihre anonyme Benutzer-ID (SM-ID) und Ihren gewählten Alias.</li>
                    <li>Lizenzdaten: Zur Prüfung der Zugriffsberechtigung speichern wir den Status und das Ablaufdatum Ihrer Lizenz.</li>
                    <li>Hardware-Binding: Zur Absicherung Ihres Profils gegen unbefugte Logins werden gerätespezifische Merkmale analysiert, um eine eindeutige Verknüpfung zwischen Lizenz und Endgerät herzustellen. Diese Daten dienen ausschließlich der Sicherheits-Validierung.</li>
                    <li>Kommunikations-Metadaten: Der Server registriert den Zeitpunkt der Lizenzabfrage, um die Gültigkeit der Sitzung während des Verschlüsselungsprozesses zu gewährleisten.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">4. Lokale Speicherung (LocalStorage & Cache)</h4>
                <p style="margin-bottom:5px;">Um die Anonymität zu wahren, werden bestimmte Daten nicht auf unseren Servern, sondern ausschließlich in Ihrem Browser-Speicher (LocalStorage) abgelegt:</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Kontaktverzeichnis: Ihre hinterlegten Kontakt-IDs und deren öffentliche Schlüssel werden lokal auf Ihrem Gerät gespeichert.</li>
                    <li>Sitzungsdaten: Informationen über Ihre aktuelle Sitzung verbleiben lokal, um die Bedienbarkeit zu erhöhen.</li>
                    <li>Löschung: Diese Daten können von Ihnen jederzeit durch das Löschen des Browser-Caches oder die Funktion „Zugang löschen“ entfernt werden.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">5. Hosting und Infrastruktur</h4>
                <p style="margin-bottom:15px;">Unsere Anwendung wird bei dem Cloud-Dienstleister Railway (Railway Corp., USA/EU) gehostet.</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Server-Log-Files: Beim Zugriff auf die Webseite werden automatisch Informationen (IP-Adresse, Zeitstempel, Browsertyp) in Log-Files erfasst. Dies ist technisch notwendig, um die Stabilität und Sicherheit des Betriebs zu gewährleisten (Rechtsgrundlage: Art. 6 Abs. 1 lit. f DSGVO).</li>
                    <li>Datentransfer: Sofern Daten auf Servern in den USA verarbeitet werden, erfolgt dies auf Grundlage von Standardvertragsklauseln der EU-Kommission.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">6. Zahlungsabwicklung (Stripe)</h4>
                <p style="margin-bottom:5px;">Für den Erwerb von Lizenzen nutzen wir den Zahlungsdienstleister Stripe (Stripe Inc.).</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Zahlungsdaten: Wir erhalten von Stripe lediglich die Bestätigung der Zahlung sowie Ihre E-Mail-Adresse für den Rechnungsversand.</li>
                    <li>Keine Speicherung: Kreditkartendaten oder detaillierte Finanzinformationen werden niemals auf unseren Servern verarbeitet oder gespeichert.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">7. Betroffenenrechte</h4>
                <p style="margin-bottom:5px;">Sie haben im Rahmen der DSGVO das Recht auf:</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Auskunft über Ihre bei uns gespeicherten Daten (SM-ID, Lizenzstatus).</li>
                    <li>Berichtigung unrichtiger Daten.</li>
                    <li>Löschung Ihres Accounts und der damit verbundenen Lizenzdaten.</li>
                    <li>Einschränkung der Verarbeitung sowie Datenübertragbarkeit.</li>
                </ul>

                <h4 style="color:#fff; margin-bottom:5px;">8. Datensicherheit</h4>
                <p>Wir setzen modernste technische und organisatorische Sicherheitsmaßnahmen (TOMs) ein, um Ihre Daten vor Manipulation und unbefugtem Zugriff zu schützen. Dies beinhaltet insbesondere die Absicherung der Serververbindungen via TLS/SSL sowie die erwähnte Client-Side-Encryption-Architektur.</p>
            </div>
        </div>
    </div>

    <!-- AGB MODAL -->
    <div id="agbModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('agbModal')">×</button>
            <div class="legal-section" style="font-family:'Roboto Mono'; font-size:0.9rem; color:#ccc;">
                <h3 style="font-size:1.5rem; color:var(--accent-blue); margin-bottom:15px;">Allgemeine Geschäftsbedingungen (AGB) – SECURE MESSAGES</h3>

                <h4 style="color:#fff; margin-bottom:5px;">§ 1 Geltungsbereich und Anbieter</h4>
                <p style="margin-bottom:15px;">(1) Diese Allgemeinen Geschäftsbedingungen gelten für alle Verträge über die Nutzung der Web-Applikation „SECURE MESSAGES“ (nachfolgend „Dienst“), die zwischen dem Anbieter [DEIN NAME/UNTERNEHMEN], [ADRESSE], Deutschland (nachfolgend „Anbieter“) und dem Nutzer (nachfolgend „Kunde“) geschlossen werden.<br>
                (2) Abweichende Bedingungen des Kunden werden nicht anerkannt, es sei denn, der Anbieter stimmt ihrer Geltung ausdrücklich schriftlich zu.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 2 Leistungsbeschreibung und technisches Paradigma</h4>
                <p style="margin-bottom:15px;">(1) SECURE MESSAGES stellt eine Plattform zur provider-agnostischen Verschlüsselung von Texten, Medien und Dokumenten bereit.<br>
                (2) Zero-Knowledge-Prinzip: Der Dienst arbeitet nach dem Prinzip der vollständigen clientseitigen Verschlüsselung. Sämtliche kryptografischen Operationen erfolgen lokal auf dem Endgerät des Kunden. Klartexte, Zugangscodes oder Entschlüsselungsparameter werden zu keinem Zeitpunkt an den Anbieter oder Dritte übertragen.<br>
                (3) Integritätsprüfung: Der Server des Anbieters führt lediglich technische Validierungen zur Lizenzprüfung und zur Identitätssicherung (Device-Binding) durch.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 3 Registrierung und Verantwortlichkeit für Zugangsschlüssel</h4>
                <p style="margin-bottom:15px;">(1) Der Zugang zum Dienst erfordert eine gültige Lizenz und die Erstellung einer anonymisierten Benutzer-ID (Alias).<br>
                (2) Der Kunde legt während des Aktivierungsprozesses einen individuellen, 5-stelligen Zugangscode fest.<br>
                (3) Eigenverantwortung: Da der Anbieter keinen Zugriff auf die lokalen Verschlüsselungscodes hat, ist eine Wiederherstellung bei Verlust technisch unmöglich. Der Verlust des Zugangscodes führt zum unwiederbringlichen Verlust aller verschlüsselten Daten.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 4 Hardware-Binding und Diebstahlschutz</h4>
                <p style="margin-bottom:15px;">(1) Zur Vermeidung unbefugter Zugriffe wird jede Lizenz fest mit dem physischen Endgerät verknüpft, auf dem die Registrierung erfolgte.<br>
                (2) Ein Login von einem nicht registrierten Gerät ist systemseitig ausgeschlossen, sofern keine explizite Migration oder Mehrfachlizenzierung vorliegt.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 5 Nutzungsregeln und Verbote (Acceptable Use Policy)</h4>
                <p style="margin-bottom:5px;">(1) Der Dienst darf ausschließlich für rechtmäßige Zwecke verwendet werden. Dem Kunden ist es untersagt, den Dienst für folgende Aktivitäten zu nutzen:</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Verbreitung von Schadsoftware (Viren, Ransomware, Trojaner).</li>
                    <li>Handel mit illegalen Gütern oder Substanzen.</li>
                    <li>Darstellung oder Verbreitung von Gewalt, terroristischen Inhalten oder Volksverhetzung.</li>
                    <li>Verletzung von Urheberrechten oder gewerblichen Schutzrechten Dritter.</li>
                </ul>
                <p style="margin-bottom:15px;">(2) Da der Anbieter aufgrund der Verschlüsselung keinen Einblick in die Inhalte hat, entbindet dies den Kunden nicht von der vollumfänglichen rechtlichen Verantwortung für seine versendeten Daten.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 6 Zahlungsbedingungen und Lizenzmodelle</h4>
                <p style="margin-bottom:15px;">(1) Die Nutzung des Dienstes ist kostenpflichtig. Die aktuellen Preise und Laufzeiten sind im Shop unter www.secure-msg.app/shop einsehbar.<br>
                (2) Die Zahlungsabwicklung erfolgt über den externen Dienstleister Stripe. Der Anbieter speichert keine Kreditkartendaten.<br>
                (3) Bei einem Verstoß gegen die Nutzungsregeln (§ 5) behält sich der Anbieter das Recht vor, den Zugang sofort zu sperren. Ein Anspruch auf Rückerstattung bereits gezahlter Gebühren besteht in diesem Fall nicht.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 7 Haftungsausschluss und Gewährleistung</h4>
                <p style="margin-bottom:15px;">(1) Der Anbieter haftet unbeschränkt für Vorsatz und grobe Fahrlässigkeit. Für leichte Fahrlässigkeit haftet der Anbieter nur bei Verletzung einer wesentlichen Vertragspflicht.<br>
                (2) Der Anbieter übernimmt keine Haftung für:</p>
                <ul style="margin-bottom:15px; padding-left:20px;">
                    <li>Datenverlust infolge vergessener Zugangscodes oder Hardware-Defekte des Kunden.</li>
                    <li>Missbräuchliche Verwendung des Dienstes durch den Kunden.</li>
                    <li>Die Sicherheit der Drittanbieter-Dienste (z. B. WhatsApp, Telegram), über die die verschlüsselten Pakete versendet werden.</li>
                </ul>
                <p style="margin-bottom:15px;">(3) Eine Verfügbarkeit des Dienstes von 100 % kann aufgrund notwendiger Wartungsarbeiten oder Störungen außerhalb des Machtbereichs des Anbieters (z. B. Ausfall von Cloud-Providern) nicht garantiert werden.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 8 Datenschutz</h4>
                <p style="margin-bottom:15px;">(1) Der Schutz der Privatsphäre hat höchste Priorität. Es werden keine Klarnamen oder personenbezogenen Profile erstellt.<br>
                (2) Ergänzende Informationen zur Datenerhebung (Lizenzlaufzeiten, Hardware-IDs) sind in der gesonderten Datenschutzerklärung aufgeführt.</p>

                <h4 style="color:#fff; margin-bottom:5px;">§ 9 Schlussbestimmungen</h4>
                <p>(1) Es gilt das Recht der Bundesrepublik Deutschland unter Ausschluss des UN-Kaufrechts.<br>
                (2) Sollten einzelne Bestimmungen dieser AGB unwirksam sein, bleibt die Wirksamkeit der übrigen Bestimmungen unberührt.<br>
                (3) Gerichtsstand für alle Streitigkeiten aus diesem Vertrag ist der Sitz des Anbieters, sofern der Kunde Kaufmann ist oder keinen allgemeinen Gerichtsstand in Deutschland hat.</p>
            </div>
        </div>
    </div>

    <script>
        // === SHOP STATUS CHECK ===
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const res = await fetch('/api/shop-status');
                const data = await res.json();
                const btn = document.getElementById('heroBuyBtn');
                const msg = document.getElementById('shopOfflineMsg');

                if (data.active === false) {
                    if(btn) {
                        btn.style.opacity = '0.5';
                        btn.style.pointerEvents = 'none';
                        btn.textContent = "Shop Offline";
                    }
                    if(msg) msg.style.display = 'block';
                }
            } catch(e) { console.error("Shop Check Failed", e); }
        });

        // === APP CAROUSEL ===
        document.addEventListener('DOMContentLoaded', () => {
            const carouselData = [
                {
                    img: 'text-verschluesselung.png',
                    title: 'Maximale Sicherheit bei der Eingabe:',
                    desc: 'Ihr Text wird lokal mit einem 5-stelligen Muster und ausgewählten Empfängern verschlüsselt.'
                },
                {
                    img: 'qr-code-ansicht.png',
                    title: 'Einfacher und diskreter Versand:',
                    desc: 'Das Ergebnis ist ein kompakter QR-Code, bereit zum sicheren Teilen über jeden beliebigen Kanal.'
                },
                {
                    img: 'text-entschluesselung.png',
                    title: 'Nur für autorisierte Augen:',
                    desc: 'Die Rückwandlung in lesbaren Text gelingt nur mit dem exakt gleichen 5-stelligen Zugangscode.'
                },
                {
                    img: 'bild-entschluesselt.png',
                    title: 'Mehr als nur Text:',
                    desc: 'Auch sensible Dateien wie Bilder oder PDFs werden sicher direkt im Browser wieder sichtbar gemacht.'
                },
                {
                    img: 'kontakte-verzeichnis.png',
                    title: 'Lokales Adressbuch:',
                    desc: 'Verwalten Sie vertrauenswürdige Empfänger-IDs sicher auf Ihrem Gerät für einen schnellen und unkomplizierten Zugriff.'
                }
            ];

            const carouselImages = document.getElementById('carouselImages');
            const carouselCaptions = document.getElementById('carouselCaptions');
            let currentIndex = 0;

            if (carouselImages && carouselCaptions) {
                // Initialize
                carouselData.forEach((item, index) => {
                    // Image
                    const img = document.createElement('img');
                    img.src = `assets/screenshots/${item.img}`;
                    img.alt = item.title;
                    img.className = `carousel-image ${index === 0 ? 'active' : ''}`;
                    carouselImages.appendChild(img);

                    // Caption
                    const caption = document.createElement('div');
                    caption.className = `caption-item ${index === 0 ? 'active' : ''}`;
                    caption.innerHTML = `
                        <span class="caption-highlight">${item.title}</span>
                        <p>${item.desc}</p>
                    `;
                    carouselCaptions.appendChild(caption);
                });

                let isAnimating = false;

                function updateCarousel(newIndex) {
                    if (isAnimating) return;

                    const images = document.querySelectorAll('.carousel-image');
                    const captions = document.querySelectorAll('.caption-item');

                    if (images.length === 0) return;

                    // 1. Fade out current
                    images[currentIndex].classList.remove('active');
                    captions[currentIndex].classList.remove('active');

                    isAnimating = true;

                    // 2. Wait for fade out, then fade in new
                    setTimeout(() => {
                        currentIndex = newIndex;
                        if (currentIndex < 0) currentIndex = images.length - 1;
                        if (currentIndex >= images.length) currentIndex = 0;

                        images[currentIndex].classList.add('active');
                        captions[currentIndex].classList.add('active');

                        // Reset lock after fade in starts (transition time is 0.6s)
                        setTimeout(() => {
                            isAnimating = false;
                        }, 100);
                    }, 600); // Wait 0.6s (matches CSS transition)
                }

                document.getElementById('prevBtn').addEventListener('click', () => updateCarousel(currentIndex - 1));
                document.getElementById('nextBtn').addEventListener('click', () => updateCarousel(currentIndex + 1));
            }
        });

        // === SCROLL REVEAL ===
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // === COOKIE BANNER ===
        document.addEventListener('DOMContentLoaded', () => {
            if (!localStorage.getItem('cookieConsent')) {
                document.getElementById('cookieBanner').style.display = 'block';
            }

            function closeBanner() {
                localStorage.setItem('cookieConsent', 'true');
                document.getElementById('cookieBanner').style.display = 'none';
            }

            document.getElementById('cookieAcceptAll').addEventListener('click', closeBanner);
            document.getElementById('cookieAcceptEssential').addEventListener('click', closeBanner);
        });

        // === MODALS ===
        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }
        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Close on background click
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
    </script>

</body>
</html>
